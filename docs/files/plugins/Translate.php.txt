<?php
/**
 * Created by PhpStorm.
 * User: anis
 * Date: 8/10/15
 * Time: 4:26 PM
 */

namespace Darwin\Libs\Template\Extensions;


use Darwin\Libs\Template\PluginInterface;

class Translate implements PluginInterface
{

    protected $template;

    public function init($template)
    {

        $template->register('t', $this, 'dotranslate');
    }


    public function dotranslate($messageID, $default='')
    {
        $core  = $GLOBALS['core'];

        $localization = $core->getLocalization();

        if( $localization === null )
            return $default;

        $translated =  $localization->getTranslation( $messageID );

        if( $translated !== null )
            return $translated;

        return $default;
    }



} 

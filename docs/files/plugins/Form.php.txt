<?php
/**
 * Created by PhpStorm.
 * User: anis
 * Date: 8/10/15
 * Time: 4:34 PM
 */

namespace Darwin\Libs\Template\Extensions;

use Darwin\Libs\Template\PluginInterface;

class Form implements PluginInterface
{

    protected  $template; // must be public

    public $formName;

    public $form;

    public function init($template)
    {
        $this->template = $template;
        
        $template->register('open', $this, 'open');
        $template->register('show', $this, 'show');
        $template->register('label', $this, 'label');
        $template->register('show_all', $this, 'showAll');
        $template->register('close', $this, 'close');

        // Register functions
    }

    public function open($name, $class='')
    {
        $this->form = $this->template->getData( $name );

        return $this->form->open($class);

    }

    public function show($field, $class='')
    {
        return $this->form->show( $field, $class );
    }

    public function label($field, $class='')
    {
        return $this->form->show_label( $field, $class );
    }

    public function showAll($class='', $showLabels=false, $labelsClass='')
    {
        return $this->form->show_all( $class, $showLabels, $labelsClass );
    }

    public function close()
    {
        return $this->form->close();
    }


} 
